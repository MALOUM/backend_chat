{"openapi":"3.1.0","info":{"title":"FastAPI LLM RAG Backend","description":"Backend FastAPI pour chatbot LLM avec fonctionnalités RAG","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/register":{"post":{"tags":["Authentication","Authentication"],"summary":"Register User","description":"Enregistrer un nouvel utilisateur et renvoyer un token d'accès.","operationId":"register_user_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegistration"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/token":{"post":{"tags":["Authentication","Authentication"],"summary":"Login For Access Token","description":"OAuth2 compatible token login, renvoie un token d'accès.","operationId":"login_for_access_token_api_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication","Authentication"],"summary":"Login","description":"Login utilisateur, renvoie un token d'accès.","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication","Authentication"],"summary":"Logout","description":"Déconnexion de l'utilisateur.\nLe frontend doit supprimer le token manuellement.\nCette fonction permet d'ajouter le token à une liste de révocation (blacklist).","operationId":"logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Logout Api Auth Logout Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/chat/sessions":{"post":{"tags":["Chat","Chat"],"summary":"Create Chat Session","description":"Créer une nouvelle session de chat.","operationId":"create_chat_session_api_chat_sessions_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Chat","Chat"],"summary":"Get Chat Sessions","description":"Récupérer toutes les sessions de chat de l'utilisateur.","operationId":"get_chat_sessions_api_chat_sessions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatSessionResponse"},"title":"Response Get Chat Sessions Api Chat Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/sessions/{session_id}":{"get":{"tags":["Chat","Chat"],"summary":"Get Chat Session","description":"Récupérer une session de chat spécifique.","operationId":"get_chat_session_api_chat_sessions__session_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Chat","Chat"],"summary":"Update Chat Session","description":"Mettre à jour une session de chat.","operationId":"update_chat_session_api_chat_sessions__session_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Chat","Chat"],"summary":"Delete Chat Session","description":"Supprimer une session de chat et tous ses messages.","operationId":"delete_chat_session_api_chat_sessions__session_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/sessions/{session_id}/messages":{"post":{"tags":["Chat","Chat"],"summary":"Create Message","description":"Créer un nouveau message dans une session de chat.","operationId":"create_message_api_chat_sessions__session_id__messages_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Chat","Chat"],"summary":"Get Messages","description":"Récupérer tous les messages d'une session de chat.","operationId":"get_messages_api_chat_sessions__session_id__messages_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageResponse"},"title":"Response Get Messages Api Chat Sessions  Session Id  Messages Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/stream":{"get":{"tags":["Chat","Chat"],"summary":"Stream Chat","description":"Stream de chat avec génération de réponse en temps réel.","operationId":"stream_chat_api_chat_stream_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"message","in":"query","required":true,"schema":{"type":"string","title":"Message"}},{"name":"rag_enabled","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Rag Enabled"}},{"name":"rag_strategy","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rag Strategy"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/cancel/{message_id}":{"post":{"tags":["Chat","Chat"],"summary":"Cancel Streaming","description":"Annule la génération d'une réponse en streaming.","operationId":"cancel_streaming_api_chat_cancel__message_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents":{"post":{"tags":["Documents","Documents"],"summary":"Create Document","description":"Créer un nouveau document à partir de contenu texte ou URL.","operationId":"create_document_api_documents_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Documents","Documents"],"summary":"Get Documents","description":"Récupérer tous les documents de l'utilisateur.","operationId":"get_documents_api_documents_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DocumentResponse"},"title":"Response Get Documents Api Documents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/upload":{"post":{"tags":["Documents","Documents"],"summary":"Upload Document","description":"Télécharger et traiter un fichier document.\n\nArgs:\n    title: Titre du document\n    file: Fichier à télécharger\n    metadata: Métadonnées au format JSON (optionnel)\n    chunking_method: Méthode de chunking (recursive, fixed_size, etc.)\n    chunk_size: Taille des chunks\n    chunk_overlap: Chevauchement des chunks\n    embedding_model: Modèle d'embedding à utiliser\n    process_now: Si True, le document est traité immédiatement après l'upload\n    current_user: Utilisateur connecté","operationId":"upload_document_api_documents_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_documents_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/documents/{document_id}":{"get":{"tags":["Documents","Documents"],"summary":"Get Document","description":"Récupérer un document spécifique.","operationId":"get_document_api_documents__document_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Documents","Documents"],"summary":"Update Document","description":"Mettre à jour un document.","operationId":"update_document_api_documents__document_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Documents","Documents"],"summary":"Delete Document","description":"Supprimer un document.","operationId":"delete_document_api_documents__document_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/{document_id}/chunks":{"get":{"tags":["Documents","Documents"],"summary":"Get Document Chunks","description":"Récupérer les chunks d'un document.","operationId":"get_document_chunks_api_documents__document_id__chunks_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}},{"name":"chunking_strategy","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ChunkingStrategy","default":"fixed_size"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","default":512,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Chunk Overlap"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DocumentChunkResponse"},"title":"Response Get Document Chunks Api Documents  Document Id  Chunks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/{document_id}/process":{"post":{"tags":["Documents","Documents"],"summary":"Process Document Endpoint","description":"Traite un document existant pour le chunking et l'embedding.\n\nPermet de spécifier des configurations personnalisées pour le chunking et l'embedding.","operationId":"process_document_endpoint_api_documents__document_id__process_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/search":{"get":{"tags":["Documents","Documents"],"summary":"Search Documents","description":"Recherche sémantique dans les documents.\n\nPermet de rechercher des documents par similarité sémantique avec la requête.\n\nArgs:\n    query: Texte de la requête\n    top_k: Nombre de résultats à retourner\n    embedding_model: Modèle d'embedding à utiliser (optionnel)\n    user_id: Filtrer par utilisateur (optionnel)\n    document_type: Filtrer par type de document (optionnel)\n    current_user: Utilisateur connecté","operationId":"search_documents_api_documents_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","maximum":20,"minimum":1,"default":5,"title":"Top K"}},{"name":"embedding_model","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"document_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"title":"Document Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/ingest":{"post":{"tags":["Documents","Documents"],"summary":"Ingest Document","description":"Télécharge et traite un document en utilisant l'orchestrateur d'ingestion.\n\nCette route offre des options avancées pour l'ingestion de documents,\npermettant de configurer finement le processus d'ingestion.\n\nArgs:\n    file: Fichier à télécharger et traiter\n    params: Paramètres d'ingestion au format JSON (optionnel)\n    run_async: Exécuter en arrière-plan si True\n    current_user: Utilisateur connecté\n\nReturns:\n    Informations sur le traitement du document","operationId":"ingest_document_api_documents_ingest_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_document_api_documents_ingest_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/documents/ingest/status/{task_id}":{"get":{"tags":["Documents","Documents"],"summary":"Get Ingestion Status","description":"Récupère le statut d'une tâche d'ingestion.\n\nArgs:\n    task_id: ID de la tâche à vérifier\n    current_user: Utilisateur connecté\n\nReturns:\n    Informations sur l'état de la tâche","operationId":"get_ingestion_status_api_documents_ingest_status__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/documents/search/advanced":{"post":{"tags":["Documents","Documents"],"summary":"Search Documents Advanced","description":"Recherche avancée de documents en utilisant les services d'ingestion.\n\nCette route offre des options avancées pour la recherche de documents,\nen utilisant directement les services d'ingestion.\n\nArgs:\n    query: Requête de recherche\n    current_user: Utilisateur connecté\n\nReturns:\n    Résultats de la recherche","operationId":"search_documents_advanced_api_documents_search_advanced_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"Body_ingest_document_api_documents_ingest_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"params":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Params"},"run_async":{"type":"boolean","title":"Run Async","default":false}},"type":"object","required":["file"],"title":"Body_ingest_document_api_documents_ingest_post"},"Body_login_for_access_token_api_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_auth_token_post"},"Body_upload_document_api_documents_upload_post":{"properties":{"title":{"type":"string","title":"Title"},"file":{"type":"string","format":"binary","title":"File"},"metadata":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata"},"chunking_method":{"anyOf":[{"$ref":"#/components/schemas/ChunkingStrategy"},{"type":"null"}],"default":"recursive"},"chunk_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunk Size","default":512},"chunk_overlap":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunk Overlap","default":50},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","default":"sentence-transformers/all-MiniLM-L6-v2"},"process_now":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Process Now","default":true}},"type":"object","required":["title","file"],"title":"Body_upload_document_api_documents_upload_post"},"CancelResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","message"],"title":"CancelResponse","description":"Schéma pour la réponse d'annulation de streaming"},"ChatSessionCreate":{"properties":{"title":{"type":"string","title":"Title"},"rag_enabled":{"type":"boolean","title":"Rag Enabled","default":true},"rag_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rag Strategy"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["title"],"title":"ChatSessionCreate","description":"Schéma pour la création de session de chat"},"ChatSessionResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"title":{"type":"string","title":"Title"},"rag_enabled":{"type":"boolean","title":"Rag Enabled"},"rag_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rag Strategy"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["id","user_id","title","rag_enabled","rag_strategy","created_at","updated_at","metadata"],"title":"ChatSessionResponse","description":"Schéma pour la réponse de session de chat"},"ChatSessionUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"rag_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rag Enabled"},"rag_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rag Strategy"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ChatSessionUpdate","description":"Schéma pour la mise à jour de session de chat"},"ChunkingConfig":{"properties":{"chunk_size":{"type":"integer","title":"Chunk Size","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"chunking_method":{"$ref":"#/components/schemas/ChunkingStrategy","default":"recursive"}},"type":"object","title":"ChunkingConfig","description":"Configuration pour le chunking de documents"},"ChunkingStrategy":{"type":"string","enum":["fixed_size","recursive","semantic","sentence","paragraph"],"title":"ChunkingStrategy","description":"Stratégies de chunking disponibles"},"DocumentChunkResponse":{"properties":{"id":{"type":"string","title":"Id"},"document_id":{"type":"string","title":"Document Id"},"chunk_index":{"type":"integer","title":"Chunk Index"},"content":{"type":"string","title":"Content"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["id","document_id","chunk_index","content","metadata"],"title":"DocumentChunkResponse","description":"Schéma pour la réponse de chunk de document"},"DocumentCreate":{"properties":{"title":{"type":"string","title":"Title"},"type":{"$ref":"#/components/schemas/DocumentType"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["title","type"],"title":"DocumentCreate","description":"Schéma pour la création de document"},"DocumentMetadata":{"properties":{"source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"created_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created Date"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"properties":{"type":"object","title":"Properties"}},"type":"object","title":"DocumentMetadata","description":"Métadonnées des documents"},"DocumentResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"title":{"type":"string","title":"Title"},"type":{"$ref":"#/components/schemas/DocumentType"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"status":{"$ref":"#/components/schemas/ProcessingStatus"},"metadata":{"$ref":"#/components/schemas/DocumentMetadata"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_id","title","type","status","metadata","created_at","updated_at"],"title":"DocumentResponse","description":"Schéma pour la réponse de document"},"DocumentType":{"type":"string","enum":["text","pdf","url","image"],"title":"DocumentType","description":"Types de documents"},"DocumentUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"DocumentUpdate","description":"Schéma pour la mise à jour de document"},"EmbeddingConfig":{"properties":{"model_name":{"type":"string","title":"Model Name","default":"all-MiniLM-L6-v2"},"dimension":{"type":"integer","title":"Dimension","default":384},"batch_size":{"type":"integer","title":"Batch Size","default":32}},"type":"object","title":"EmbeddingConfig","description":"Configuration pour l'embedding de documents"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IngestionResponse":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"ID du document"},"task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Id","description":"ID de la tâche d'ingestion (si asynchrone)"},"status":{"type":"string","title":"Status","description":"Statut de l'ingestion (pending, success, error)"},"source":{"type":"string","title":"Source","description":"Source du document"},"num_pages":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Pages","description":"Nombre de pages du document"},"num_chunks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Chunks","description":"Nombre de chunks générés"},"processing_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time","description":"Temps de traitement en secondes"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Message d'erreur (si status=error)"}},"type":"object","required":["document_id","status","source"],"title":"IngestionResponse","description":"Réponse à une requête d'ingestion."},"MessageCreate":{"properties":{"content":{"type":"string","title":"Content"},"role":{"$ref":"#/components/schemas/MessageRole","default":"user"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["content"],"title":"MessageCreate","description":"Schéma pour la création de message"},"MessageResponse":{"properties":{"id":{"type":"string","title":"Id"},"session_id":{"type":"string","title":"Session Id"},"role":{"$ref":"#/components/schemas/MessageRole"},"content":{"type":"string","title":"Content"},"metadata":{"type":"object","title":"Metadata"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["id","session_id","role","content","metadata","timestamp"],"title":"MessageResponse","description":"Schéma pour la réponse de message"},"MessageRole":{"type":"string","enum":["system","user","assistant"],"title":"MessageRole","description":"Rôles des messages"},"ProcessingRequest":{"properties":{"document_id":{"type":"string","title":"Document Id"},"chunking_config":{"anyOf":[{"$ref":"#/components/schemas/ChunkingConfig"},{"type":"null"}]},"embedding_config":{"anyOf":[{"$ref":"#/components/schemas/EmbeddingConfig"},{"type":"null"}]}},"type":"object","required":["document_id"],"title":"ProcessingRequest","description":"Requête de traitement d'un document avec configuration personnalisée"},"ProcessingResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"status":{"$ref":"#/components/schemas/ProcessingStatus"},"message":{"type":"string","title":"Message"},"chunks_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunks Count"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["document_id","status","message"],"title":"ProcessingResponse","description":"Réponse du traitement d'un document"},"ProcessingStatus":{"type":"string","enum":["pending","processing","completed","failed"],"title":"ProcessingStatus","description":"Statuts de traitement des documents"},"SearchQuery":{"properties":{"query":{"type":"string","title":"Query","description":"Requête textuelle"},"document_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Id","description":"ID du document (pour filtrer)"},"max_results":{"type":"integer","title":"Max Results","description":"Nombre maximum de résultats","default":4}},"type":"object","required":["query"],"title":"SearchQuery","description":"Requête de recherche."},"SearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/SearchResult"},"type":"array","title":"Results"},"total":{"type":"integer","title":"Total"},"query":{"type":"string","title":"Query"}},"type":"object","required":["results","total","query"],"title":"SearchResponse","description":"Réponse de recherche avec pagination"},"SearchResult":{"properties":{"document_id":{"type":"string","title":"Document Id"},"chunk_id":{"type":"string","title":"Chunk Id"},"content":{"type":"string","title":"Content"},"score":{"type":"number","title":"Score"},"document_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Title"},"document_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Type"}},"type":"object","required":["document_id","chunk_id","content","score"],"title":"SearchResult","description":"Résultat de recherche de documents"},"TokenSchema":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"TokenSchema","description":"Schéma de token d'accès"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin","description":"Schéma pour la connexion utilisateur"},"UserRegistration":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"UserRegistration","description":"Schéma pour l'inscription utilisateur"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth/token"}}}}}}